# 负载均衡

**什么是负载均衡?**

负载均衡（Load Balance）是分布式系统架构设计中必须考虑的因素之一 , 它通常是指 , 将请求/数据【均匀】分摊到多个操作单元上执行 , 负载均衡的关键在于【均匀】. 

**负载均衡常见架构**

![](/assets/fuzaijunheng.png)

客户端层 , 反向代理nginx层 , 站点层 , 服务层 , 数据层 , 每一个下游都有多个上游调用 , 只需要做到 , 每一个上游都均匀访问每一个下游 , 这些都是“负载均衡” . 

用户\(也就是client\)访问一个网址 , 首先通过DNS解析为IP地址 , 返回给我们10.58.0.1 , 然后访问这个IP地址 , 通过TCP协议\(HTTP协议封装的IP/TCP协议\) , 找到nginx服务器 , 这里就用到**负载均衡** , 转到了其中一台nginx服务器上 , 然后nginx通过反向代理负载均衡 , 继续分发请求 , 找到其中一台web-server服务器 . web-server后又经过**负载均衡** , 找到服务化的层面 , 也就是常见的功能拆分 , 比如用户中心服务 , 文件上传服务等 , 最后服务层访问的数据层 , 也可能不是一台服务器 , 也需要做**负载均衡**的分发 . 





