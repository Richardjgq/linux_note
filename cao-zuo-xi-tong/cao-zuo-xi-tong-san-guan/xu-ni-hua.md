# 虚拟化

对话 : [http://pages.cs.wisc.edu/~remzi/OSTEP/dialogue-virtualization.pdf](http://pages.cs.wisc.edu/~remzi/OSTEP/dialogue-virtualization.pdf)

#### 对话

**关于虚拟化的讨论**

**教授 : **到这里 , 我们到了&lt;操作系统三部分&gt;的第一个部分 : 虚拟化 . 

**学生 : **哦 ? 那么尊敬的教授 , 请问什么是虚拟化 ? 

**教授 : **想象一下我们有一个桃子 . 

**学生 : **一个桃子 ? \(难以置信\)

**教授 : **是的 , 一个桃子 . 我们都说的是物理上的桃子 , 但是我们有好多食客想要吃这个桃子 . 我们想要呈现给食客的是他们自己的桃子 , 这样他们才会满意 . 我们把这些给食客的桃子称之为虚拟桃子 . 我们以某种方法创建了许多这种脱离了物理意义的虚拟桃子 . 重要的事 , 在这种错觉下 , 似乎每个食客都拥有一个物理意义上的桃子 , 虽然实际上他们并没有 . 

**学生 : **所以你是在分析这种桃子 , 虽然你甚至都不知道 ? 

**教授 : **没错 ! 完全正确 . 

**学生 : **但是实际上只有一个桃子啊 . 

**教授 : **是的 . 所以…… ? 

**学生 : **嗯 . 我想如果我正在和另一个人分享同一个桃子 , 我会发现的 . 

**教授 : **哦 , 是的 . 好想法 . 但是这是食客的事情 . 大部分时候他们正在打盹或者做其他什么事 . 因此 , 你可以抢占了这个桃子并把它给其他人一段时间 . 所以 , 我们可以制造出有许多桃子的假象 , 让每个人都有自己的桃子 . 

**学生 : **这个听起来就像一个很糟糕的竞选口号 . 您正在谈的是计算机 , 对吗 ? 教授 . 

**教授 : **啊 , 年轻人 , 你想要的是一个更加具体的例子 . 好主意 ! 那就以最基础的资源CPU来说吧 . 假设一个系统上有一个物理的CPU\(尽管现在的系统上通常都有好几个了\) , 虚拟化所做的事情就是 , 就使用这一个CPU , 让它看起来像是给系统上运行的程序通过了多个虚拟的CPU . 因此 , 当每个程序想要拥有自己的CPU来使用的时候 , 实际上只有一个真实的cpu . 为此 , 操作系统制造了一个完美的假象 : 它将CPU虚拟化了 . 

**学生 : **哇 ! 听起来很神奇 . 多给我讲讲 , 这是怎么工作的 ? 

**教授 : **在大好时候 , 年轻人 , 抓紧时间 . 听起来你已经准备开始了 . 

**学生 : **是的 . 好吧 , 有一点我必须承认 . 我有点担心你又要开始讲桃子了 . 

**教授 : **别担心太多 . 我甚至都不喜欢桃子 , 所以我们开始吧 . 

