# 计算机系统的结构

现代通用计算机系统由一个或多个CPU和若干设备控制器通过共同的总线相连而成 , 该总线提供了对共享内存的访问 . 每个设备控制器负责一种特定类型的设备 . CPU与设备控制器可以并发工作 , 并竞争内存周期 , 确保对共享内存的有序访问 , 需要内存控制器来协调对内存的访问 . 

计算机开始运行 , 需要运行一个比较简单的初始化程序或**引导程序** , 通常位于ROM或EEPROM中 , 称为计算机硬件中的固件 . 它初始化系统中的所有部分 , 包括CPU寄存器 , 设备控制器 , 内存内容等 . 引导程序必须知道如何装入操作系统并开始执行系统 , 所以必须定位操作系统内核 , 并把它装入内存 . 然后操作系统开始执行第一个进程 , 如init , 并等待事件的发生 . 

#### interrupt中断

事件的发生通常通过硬件或软件的中断来表示 . 硬件可以随时通过系统总线向CPU发送信号 , 触发中断 . 软件通过执行特定的操作 , 比如系统调用\(system call\)也叫监视器调用 , 来触发中断 . 

**所谓中断 , 是指CPU在正常执行程序的过程中 , 由于某个外部或内部事件的作用 , 强迫CPU停止当前正在执行的程序 , 转去为该事件服务\(称为中断服务\) , 待服务结束后 , 又能自动返回到被中断的程序中继续执行 . **

中断是计算机结构的重要部分 . 中断机制不同 , 但有些功能是共同的 . 

中断必须将控制转移到何时的中断处理程序 . 转移的方法是调用一个通用子程序以检查中断信息 , 然后子程序调用相应的中断处理程序 . 因为处理中断要快 , 许多操作系统 , 例如Windows或UNIX都采用**中断向量表**的方式处理中断 . 

> **中断向量表** , 即指针表位于低地址内存\(前100左右的位置 , 内存中0-1KB的位置\) , 这里包含了各种设备的中断处理子程序的地址 , 通过唯一设备号来索引 , 提供设备的中断处理子程序的地址 .



