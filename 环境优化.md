# 环境优化

### **关于防火墙**

> 特别注意:云服务器所在的安全组端口是否开放

默认开通端口

* SSH:22
* Nginx:80,443
* FTP:21,20000:30000

```
# 允许8080端口
iptables -I INPUT 4 -p tcp -m state --state NEW -m tcp --dport 8080  -j ACCEPT
# 保存iptables规则
service iptables save
# 查看iptables规则
iptables -nvL
```

### 关于PHP缓存

默认情况下,为了减少PHP编译时间,提高性能,生产环境强烈开启Opcache.PHP5.5,5.6,7.0等环境默认加载了Opcache模块,但是这样会出现PHP代码更新后,需要2~3分钟后才能生效,在网站调试阶段可以关闭或者更新代码后刷新缓存.

* 关闭 - /usr/local/php/etc/php.ini  和 /usr/local/php/etc/php.d 目录中相关文件,重启php-fpm.
* 刷新 - [http://公网/ocp.php](http://公网/ocp.php)

### 关于PHP模块安装

关于PHP多版本共存



